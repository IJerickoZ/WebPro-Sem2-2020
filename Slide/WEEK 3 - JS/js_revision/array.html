<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="css/pre_style.css">
    <title>Javascript Array</title>
</head>
<body>
    <div style="margin-left: 50px; margin-top: 20px; padding-bottom: 100px; padding-right: 100px;">
        <h2>Javascript Array</h2>
        <h3>1. forEach()</h3>
        <p>
            - บวกเฉพาะเลขในตำแหน่งเลขคู่
        </p>
<pre class="prettyprint linenums lang-java">
    var sum = 0
    var numbers = [45, 4, 9, 16, 25]
    numbers.forEach((value, index, array) => {
        if (index % 2 === 0){
            sum += value
        }
    })

    document.getElementById('result1').innerHTML = 'Total: ' + sum.toString()
</pre>
        <p>
            <div id="result1"></div>
        </p>
        <button onclick="ex1()">CLICK to see the result</button>
        <hr>
        <h3>2. map()</h3>
        <p>
            - สร้าง array ใหม่ที่ทำการเอาค่าของแต่ละ element ใน array ต้นฉบับมาคูณ 2
        </p>
<pre class="prettyprint linenums lang-java">
    var numbers1 = [45, 4, 9, 16, 25]
    var numbers2 = numbers1.map((value, index, array) => {
        return value * 2
    })
</pre>
        <p>
            <div id="result2"></div>
        </p>
        <button onclick="ex2()">CLICK to see the result</button>
        <hr>
        <h3>3. filter()</h3>
        <p>
            - สร้าง array ใหม่ filter เอาเฉพาะ element ใน array ต้นฉบับที่มีค่ามากกว่า 18
        </p>
<pre class="prettyprint linenums lang-java">
    var numbers1 = [45, 4, 9, 16, 25]
    var numbers2 = numbers1.filter((value, index, array) => {
        return value > 18
    })
</pre>
        <p>
            <div id="result3"></div>
        </p>
        <button onclick="ex3()">CLICK to see the result</button>
        <hr>
        <h3>4. reduce()</h3>
        <p>
            - ทำการประมวลผล array เพื่อให้ได้ค่าออกมา 1 ค่า <br> 
            ยกตัวอย่างเช่น การคำนวณหาผลรวมของทุก element ใน array เป็นต้น
        </p>
<pre class="prettyprint linenums lang-java">
    var numbers = [45, 4, 9, 16, 25]
    var sum = numbers.reduce((total, value, index, array) => {
        return total + value
    })
</pre>
        <p>
            <div id="result4"></div>
        </p>
        <button onclick="ex4()">CLICK to see the result</button>
        <p>
            total คือค่าตั้งต้น / ค่า return ของรอบก่อนหน้า ดังนั้นเราสามารถตั้งค่าตั้งต้นได้
        </p>
<pre class="prettyprint linenums lang-java">
    var numbers = [45, 4, 9, 16, 25]
    var sum = numbers.reduce(myFunction, 10)

    function myFunction(total, value, index, array){
        return total + value
    }
</pre>
        <p>
            <div id="result5"></div>
        </p>
        <button onclick="ex5()">CLICK to see the result</button>
        <hr>
        <h3>5. indexOf()</h3>
        <p>
            - ค้นหา index ของ element "Apple" (index ของ Javascript Array เริ่มต้นที่ 0 นะครับ)
        </p>
<pre class="prettyprint linenums lang-java">
    var fruits = ["Apple", "Orange", "Apple", "Mango"]
    var index = fruits.indexOf("Apple")
</pre>
        <p>
            <div id="result6"></div>
        </p>
        <button onclick="ex6()">CLICK to see the result</button>
        <hr>
        <h3>6. splice()</h3>
        <p>
            - ใช้ในการลบ element ออกจาก array และ/หรือ แทรก element เพิ่มเข้าไปใน array
        </p>

<pre class="prettyprint linenums lang-java">
    var fruits = ["Banana", "Orange", "Apple", "Mango"]
    fruits.splice(2, 1, "Lemon", "Kiwi")
</pre>
        <p>
            <div id="result7"></div>
        </p>
        <button onclick="ex7()">CLICK to see the result</button>
</div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
<script>
    function ex1(){
        var sum = 0
        var numbers = [45, 4, 9, 16, 25]
        numbers.forEach((value, index, array) => {
            if (index % 2 === 0){
                sum += value
            }
        })

        document.getElementById('result1').innerHTML = 'Total: ' + sum.toString()
    }
    function ex2(){
        var numbers1 = [45, 4, 9, 16, 25]
        var numbers2 = numbers1.map((value, index, array) => {
            return value * 2
        })

        document.getElementById('result2').innerHTML = '[' + numbers2.toString() + ']'
    }
    function ex3(){
        var numbers1 = [45, 4, 9, 16, 25]
        var numbers2 = numbers1.filter((value, index, array) => {
            return value > 18
        })

        document.getElementById('result3').innerHTML = '[' + numbers2.toString() + ']'
    }
    function ex4(){
        var numbers = [45, 4, 9, 16, 25]
        var sum = numbers.reduce((total, value, index, array) => {
            return total + value
        })

        document.getElementById('result4').innerHTML = sum
    }
    function ex5(){
        var numbers = [45, 4, 9, 16, 25]
        var sum = numbers.reduce(myFunction, 10)
        
        function myFunction(total, value, index, array){
            return total + value
        }

        document.getElementById('result5').innerHTML = sum
    }
    function ex6(){
        var fruits = ["Apple", "Orange", "Apple", "Mango"]
        var index = fruits.indexOf("Apple")

        document.getElementById('result6').innerHTML = index.toString() + ' (ถ้ามีหลายตัว จะคืน index ของ element ตัวแรกที่ match)'
    }
    function ex7(){
        var fruits = ["Banana", "Orange", "Apple", "Mango"]
        fruits.splice(2, 1, "Lemon", "Kiwi")

        document.getElementById('result7').innerHTML = '[' + fruits + ']'
    }


    let ta = [
        {name: 'Neung', age: 20}, 
        {name: 'Dew', age: 48},
        {name: 'Jack', age: 18},
        {name: 'Wan', age: 30},
    ]

    console.log(ta.filter((value) => {return value.age >= 30}))


    let data = [5, 10, 15]
    let result = data.map(function (value){ return value*2})
    result.splice(0, 2, 20 ,25, 30)
    console.log(result)


    let data = [5, 10, 15]
    let result = data.filter(function(value){
        return value >= 10
    }).map(function(value){
        return value + 5
    })
    console.log(result)


</script>

<button id="btn">Click me</button> 
<script> 
    let button = document.getElementById("btn");
    function once() { 
        console.log("Done."); 
        button.removeEventListener("click", once); 
    } 
    button.addEventListener("click", once); 
    console.log("Goodbye!"); 
</script>


</body>
</html>